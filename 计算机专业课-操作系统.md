## 1、操作系统

### 1.1 基本概念

![image-20240727091734797](img/image-20240727091734797.png)

![image-20240727093545407](img/image-20240727093545407.png)

![image-20240727100831460](img/image-20240727100831460.png)

有些题目感觉很蠢，例如下面，XP未必就没有用分层式？但出题的人认为XP是宏内核，所以I不对；模块化OS未必就不考虑分层？

这就是中国教育的照本宣科与死记硬背。感受一下，然后记住考试模式就是要这样才能得分：

![image-20240727111237473](img/image-20240727111237473.png)

![image-20240727111753673](img/image-20240727111753673.png)

![image-20240727125220989](img/image-20240727125220989.png)

下面是x86上的中断和系统调用的处理细节：

![image-20240727114955986](img/image-20240727114955986.png)

### 1.2 进程与进程管理

![image-20240727144415251](img/image-20240727144415251.png)

![image-20240727140649425](img/image-20240727140649425.png)

![image-20240727160426274](img/image-20240727160426274.png)

![image-20240727161439975](img/image-20240727161439975.png)

![image-20240728103128637](img/image-20240728103128637.png)

![image-20240728111312128](img/image-20240728111312128.png)

![image-20240923120728725](img/image-20240923120728725.png)

![image-20240728142507243](img/image-20240728142507243.png)

![image-20240920162155365](img/image-20240920162155365.png)

![image-20240920201326794](img/image-20240920201326794.png)



![image-20240921100510713](img/image-20240921100510713.png)

#### 死锁

**事前预防死锁的方法：**

![image-20240729145612651](img/image-20240729145612651.png)

**避免死锁的资源分配算法**：银行家算法：十分重要，必考！

![image-20240729142815411](img/image-20240729142815411.png)

**检测和解除死锁**：

![image-20240729144656632](img/image-20240729144656632.png)

![image-20240729144756637](img/image-20240729144756637.png)

一些题目坐一坐：
![image-20240729155844888](img/image-20240729155844888.png)

### 1.3 内存管理

![image-20240729194137709](img/image-20240729194137709.png)

![image-20240729201232431](img/image-20240729201232431.png)

![image-20240918185635489](img/image-20240918185635489.png)

空闲块查找算法：

![image-20240730091045180](img/image-20240730091045180.png)

x86的段地址转换：

![image-20240730092533144](img/image-20240730092533144.png)

![image-20240730105445387](img/image-20240730105445387.png)

![image-20240730121040998](img/image-20240730121040998.png)

![image-20240730121815988](img/image-20240730121815988.png)

![image-20240730142503970](img/image-20240730142503970.png)

### 1.4 文件系统

![image-20240730151312256](img/image-20240730151312256.png)

![image-20240731093122115](img/image-20240731093122115.png)

![image-20240731100132347](img/image-20240731100132347.png)

![image-20240731101749109](img/image-20240731101749109.png)

![image-20240731102258516](img/image-20240731102258516.png)

### 1.5 IO管理

![image-20240731111300846](img/image-20240731111300846.png)

![image-20240731112327181](img/image-20240731112327181.png)

![image-20240731113925458](img/image-20240731113925458.png)

![image-20240731114754080](img/image-20240731114754080.png)



![image-20240731141409402](img/image-20240731141409402.png)

可以简单的理解为：

1. disk cache（又叫page cache）是文件系统里磁盘块和内存块之间一一固定映射，用于多次读（减少每次都要访问磁盘）和多次写（先都写到同一个内存page上，然后一次性刷写磁盘）的提速
2. buffer是每次实际做磁盘IO的时候，用到的不以块为单位的管道式缓存。
3. 可以认为buffer工作在page cache的下一层。从字面上理解也可以看出：page cache是数据在内存里的较为正式和长期的镜像，而buffer是比较临时的转瞬即逝的传输管道。

以一次文件读写操作来说明disk cache和buffer的区别和联系：

![image-20240731141715241](img/image-20240731141715241.png)

![image-20240731154737405](img/image-20240731154737405.png)

![image-20240731162602364](img/image-20240731162602364.png)

